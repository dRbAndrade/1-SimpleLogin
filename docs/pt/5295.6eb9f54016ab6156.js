"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5295],{2726:(he,z,v)=>{v.d(z,{Uw:()=>I,fo:()=>D});var h=v(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var O=function(u){return u.Unimplemented="UNIMPLEMENTED",u.Unavailable="UNAVAILABLE",u}(O||{});class d extends Error{constructor(i,s,e){super(i),this.message=i,this.code=s,this.data=e}}const B=u=>{var i,s,e,r,t;const n=u.CapacitorCustomPlatform||null,o=u.Capacitor||{},l=o.Plugins=o.Plugins||{},c=u.CapacitorPlatforms,f=(null===(i=null==c?void 0:c.currentPlatform)||void 0===i?void 0:i.getPlatform)||(()=>null!==n?n.name:(u=>{var i,s;return null!=u&&u.androidBridge?"android":null!==(s=null===(i=null==u?void 0:u.webkit)||void 0===i?void 0:i.messageHandlers)&&void 0!==s&&s.bridge?"ios":"web"})(u)),N=(null===(s=null==c?void 0:c.currentPlatform)||void 0===s?void 0:s.isNativePlatform)||(()=>"web"!==f()),R=(null===(e=null==c?void 0:c.currentPlatform)||void 0===e?void 0:e.isPluginAvailable)||(g=>{const p=ne.get(g);return!!(null!=p&&p.platforms.has(f())||G(g))}),G=(null===(r=null==c?void 0:c.currentPlatform)||void 0===r?void 0:r.getPluginHeader)||(g=>{var p;return null===(p=o.PluginHeaders)||void 0===p?void 0:p.find(M=>M.name===g)}),ne=new Map,pe=(null===(t=null==c?void 0:c.currentPlatform)||void 0===t?void 0:t.registerPlugin)||((g,p={})=>{const M=ne.get(g);if(M)return console.warn(`Capacitor plugin "${g}" already registered. Cannot register plugins twice.`),M.proxy;const q=f(),A=G(g);let T;const ye=function(){var P=(0,h.Z)(function*(){return!T&&q in p?T=T="function"==typeof p[q]?yield p[q]():p[q]:null!==n&&!T&&"web"in p&&(T=T="function"==typeof p.web?yield p.web():p.web),T});return function(){return P.apply(this,arguments)}}(),oe=P=>{let b;const x=(...S)=>{const j=ye().then(C=>{const $=((P,b)=>{var x,S;if(!A){if(P)return null===(S=P[b])||void 0===S?void 0:S.bind(P);throw new d(`"${g}" plugin is not implemented on ${q}`,O.Unimplemented)}{const j=null==A?void 0:A.methods.find(C=>b===C.name);if(j)return"promise"===j.rtype?C=>o.nativePromise(g,b.toString(),C):(C,$)=>o.nativeCallback(g,b.toString(),C,$);if(P)return null===(x=P[b])||void 0===x?void 0:x.bind(P)}})(C,P);if($){const J=$(...S);return b=null==J?void 0:J.remove,J}throw new d(`"${g}.${P}()" is not implemented on ${q}`,O.Unimplemented)});return"addListener"===P&&(j.remove=(0,h.Z)(function*(){return b()})),j};return x.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(x,"name",{value:P,writable:!1,configurable:!1}),x},ue=oe("addListener"),me=oe("removeListener"),be=(P,b)=>{const x=ue({eventName:P},b),S=function(){var C=(0,h.Z)(function*(){const $=yield x;me({eventName:P,callbackId:$},b)});return function(){return C.apply(this,arguments)}}(),j=new Promise(C=>x.then(()=>C({remove:S})));return j.remove=(0,h.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield S()}),j},se=new Proxy({},{get(P,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?be:ue;case"removeListener":return me;default:return oe(b)}}});return l[g]=se,ne.set(g,{name:g,proxy:se,platforms:new Set([...Object.keys(p),...A?[q]:[]])}),se});return o.convertFileSrc||(o.convertFileSrc=g=>g),o.getPlatform=f,o.handleError=g=>u.console.error(g),o.isNativePlatform=N,o.isPluginAvailable=R,o.pluginMethodNoop=(g,p,M)=>Promise.reject(`${M} does not have an implementation of "${p}".`),o.registerPlugin=pe,o.Exception=d,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},Z=(u=>u.Capacitor=B(u))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),D=Z.registerPlugin;class I{constructor(i){this.listeners={},this.windowListeners={},i&&(console.warn(`Capacitor WebPlugin "${i.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=i)}addListener(i,s){var e=this;this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(s);const t=this.windowListeners[i];t&&!t.registered&&this.addWindowListener(t);const n=function(){var l=(0,h.Z)(function*(){return e.removeListener(i,s)});return function(){return l.apply(this,arguments)}}(),o=Promise.resolve({remove:n});return Object.defineProperty(o,"remove",{value:(l=(0,h.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield n()}),function(){return l.apply(this,arguments)})}),o;var l}removeAllListeners(){var i=this;return(0,h.Z)(function*(){i.listeners={};for(const s in i.windowListeners)i.removeWindowListener(i.windowListeners[s]);i.windowListeners={}})()}notifyListeners(i,s){const e=this.listeners[i];e&&e.forEach(r=>r(s))}hasListeners(i){return!!this.listeners[i].length}registerWindowListener(i,s){this.windowListeners[s]={registered:!1,windowEventName:i,pluginEventName:s,handler:e=>{this.notifyListeners(s,e)}}}unimplemented(i="not implemented"){return new Z.Exception(i,O.Unimplemented)}unavailable(i="not available"){return new Z.Exception(i,O.Unavailable)}removeListener(i,s){var e=this;return(0,h.Z)(function*(){const r=e.listeners[i];if(!r)return;const t=r.indexOf(s);e.listeners[i].splice(t,1),e.listeners[i].length||e.removeWindowListener(e.windowListeners[i])})()}addWindowListener(i){window.addEventListener(i.windowEventName,i.handler),i.registered=!0}removeWindowListener(i){i&&(window.removeEventListener(i.windowEventName,i.handler),i.registered=!1)}}const W=u=>encodeURIComponent(u).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),V=u=>u.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class K extends I{getCookies(){return(0,h.Z)(function*(){const i=document.cookie,s={};return i.split(";").forEach(e=>{if(e.length<=0)return;let[r,t]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=V(r).trim(),t=V(t).trim(),s[r]=t}),s})()}setCookie(i){return(0,h.Z)(function*(){try{const s=W(i.key),e=W(i.value),r=`; expires=${(i.expires||"").replace("expires=","")}`,t=(i.path||"/").replace("path=",""),n=null!=i.url&&i.url.length>0?`domain=${i.url}`:"";document.cookie=`${s}=${e||""}${r}; path=${t}; ${n};`}catch(s){return Promise.reject(s)}})()}deleteCookie(i){return(0,h.Z)(function*(){try{document.cookie=`${i.key}=; Max-Age=0`}catch(s){return Promise.reject(s)}})()}clearCookies(){return(0,h.Z)(function*(){try{const i=document.cookie.split(";")||[];for(const s of i)document.cookie=s.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(i){return Promise.reject(i)}})()}clearAllCookies(){var i=this;return(0,h.Z)(function*(){try{yield i.clearCookies()}catch(s){return Promise.reject(s)}})()}}D("CapacitorCookies",{web:()=>new K});const X=function(){var u=(0,h.Z)(function*(i){return new Promise((s,e)=>{const r=new FileReader;r.onload=()=>{const t=r.result;s(t.indexOf(",")>=0?t.split(",")[1]:t)},r.onerror=t=>e(t),r.readAsDataURL(i)})});return function(s){return u.apply(this,arguments)}}();class re extends I{request(i){return(0,h.Z)(function*(){const s=((u,i={})=>{const s=Object.assign({method:u.method||"GET",headers:u.headers},i),r=((u={})=>{const i=Object.keys(u);return Object.keys(u).map(r=>r.toLocaleLowerCase()).reduce((r,t,n)=>(r[t]=u[i[n]],r),{})})(u.headers)["content-type"]||"";if("string"==typeof u.data)s.body=u.data;else if(r.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,o]of Object.entries(u.data||{}))t.set(n,o);s.body=t.toString()}else if(r.includes("multipart/form-data")||u.data instanceof FormData){const t=new FormData;if(u.data instanceof FormData)u.data.forEach((o,l)=>{t.append(l,o)});else for(const o of Object.keys(u.data))t.append(o,u.data[o]);s.body=t;const n=new Headers(s.headers);n.delete("content-type"),s.headers=n}else(r.includes("application/json")||"object"==typeof u.data)&&(s.body=JSON.stringify(u.data));return s})(i,i.webFetchExtra),e=((u,i=!0)=>u?Object.entries(u).reduce((e,r)=>{const[t,n]=r;let o,l;return Array.isArray(n)?(l="",n.forEach(c=>{o=i?encodeURIComponent(c):c,l+=`${t}=${o}&`}),l.slice(0,-1)):(o=i?encodeURIComponent(n):n,l=`${t}=${o}`),`${e}&${l}`},"").substr(1):null)(i.params,i.shouldEncodeUrlParams),r=e?`${i.url}?${e}`:i.url,t=yield fetch(r,s),n=t.headers.get("content-type")||"";let l,c,{responseType:o="text"}=t.ok?i:{};switch(n.includes("application/json")&&(o="json"),o){case"arraybuffer":case"blob":c=yield t.blob(),l=yield X(c);break;case"json":l=yield t.json();break;default:l=yield t.text()}const m={};return t.headers.forEach((f,_)=>{m[_]=f}),{data:l,headers:m,status:t.status,url:t.url}})()}get(i){var s=this;return(0,h.Z)(function*(){return s.request(Object.assign(Object.assign({},i),{method:"GET"}))})()}post(i){var s=this;return(0,h.Z)(function*(){return s.request(Object.assign(Object.assign({},i),{method:"POST"}))})()}put(i){var s=this;return(0,h.Z)(function*(){return s.request(Object.assign(Object.assign({},i),{method:"PUT"}))})()}patch(i){var s=this;return(0,h.Z)(function*(){return s.request(Object.assign(Object.assign({},i),{method:"PATCH"}))})()}delete(i){var s=this;return(0,h.Z)(function*(){return s.request(Object.assign(Object.assign({},i),{method:"DELETE"}))})()}}D("CapacitorHttp",{web:()=>new re})},5295:(he,z,v)=>{v.r(z),v.d(z,{LoginPageModule:()=>i});var h=v(6814),y=v(95),w=v(9810),L=v(7443),a=v(9212),k=v(5592),U=v(6306),O=v(2096),d=v(5861),Q=v(2726);class B{constructor(e){this.sqlite=e,this._connectionDict=new Map}initWebStore(){var e=this;return(0,d.Z)(function*(){try{return yield e.sqlite.initWebStore(),Promise.resolve()}catch(r){return Promise.reject(r)}})()}saveToStore(e){var r=this;return(0,d.Z)(function*(){try{return yield r.sqlite.saveToStore({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}})()}saveToLocalDisk(e){var r=this;return(0,d.Z)(function*(){try{return yield r.sqlite.saveToLocalDisk({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}})()}getFromLocalDiskToStore(e){var r=this;return(0,d.Z)(function*(){const t=null==e||e;try{return yield r.sqlite.getFromLocalDiskToStore({overwrite:t}),Promise.resolve()}catch(n){return Promise.reject(n)}})()}echo(e){var r=this;return(0,d.Z)(function*(){try{const t=yield r.sqlite.echo({value:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}})()}isSecretStored(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.isSecretStored();return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}setEncryptionSecret(e){var r=this;return(0,d.Z)(function*(){try{return yield r.sqlite.setEncryptionSecret({passphrase:e}),Promise.resolve()}catch(t){return Promise.reject(t)}})()}changeEncryptionSecret(e,r){var t=this;return(0,d.Z)(function*(){try{return yield t.sqlite.changeEncryptionSecret({passphrase:e,oldpassphrase:r}),Promise.resolve()}catch(n){return Promise.reject(n)}})()}clearEncryptionSecret(){var e=this;return(0,d.Z)(function*(){try{return yield e.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(r){return Promise.reject(r)}})()}checkEncryptionSecret(e){var r=this;return(0,d.Z)(function*(){try{const t=yield r.sqlite.checkEncryptionSecret({passphrase:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}})()}addUpgradeStatement(e,r,t){var n=this;return(0,d.Z)(function*(){const o={toVersion:r,statements:t};try{return e.endsWith(".db")&&(e=e.slice(0,-3)),yield n.sqlite.addUpgradeStatement({database:e,upgrade:[o]}),Promise.resolve()}catch(l){return Promise.reject(l)}})()}createConnection(e,r,t,n,o){var l=this;return(0,d.Z)(function*(){try{e.endsWith(".db")&&(e=e.slice(0,-3)),yield l.sqlite.createConnection({database:e,encrypted:r,mode:t,version:n,readonly:o});const c=new Y(e,o,l.sqlite);return l._connectionDict.set(o?`RO_${e}`:`RW_${e}`,c),Promise.resolve(c)}catch(c){return Promise.reject(c)}})()}closeConnection(e,r){var t=this;return(0,d.Z)(function*(){try{return e.endsWith(".db")&&(e=e.slice(0,-3)),yield t.sqlite.closeConnection({database:e,readonly:r}),t._connectionDict.delete(r?`RO_${e}`:`RW_${e}`),Promise.resolve()}catch(n){return Promise.reject(n)}})()}isConnection(e,r){var t=this;return(0,d.Z)(function*(){const n={};return e.endsWith(".db")&&(e=e.slice(0,-3)),n.result=t._connectionDict.has(r?`RO_${e}`:`RW_${e}`),Promise.resolve(n)})()}retrieveConnection(e,r){var t=this;return(0,d.Z)(function*(){e.endsWith(".db")&&(e=e.slice(0,-3));const n=r?`RO_${e}`:`RW_${e}`;if(t._connectionDict.has(n)){const o=t._connectionDict.get(n);return typeof o<"u"?Promise.resolve(o):Promise.reject(`Connection ${e} is undefined`)}return Promise.reject(`Connection ${e} does not exist`)})()}getNCDatabasePath(e,r){var t=this;return(0,d.Z)(function*(){try{const n=yield t.sqlite.getNCDatabasePath({path:e,database:r});return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}createNCConnection(e,r){var t=this;return(0,d.Z)(function*(){try{yield t.sqlite.createNCConnection({databasePath:e,version:r});const n=new Y(e,!0,t.sqlite);return t._connectionDict.set(`RO_${e})`,n),Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}closeNCConnection(e){var r=this;return(0,d.Z)(function*(){try{return yield r.sqlite.closeNCConnection({databasePath:e}),r._connectionDict.delete(`RO_${e})`),Promise.resolve()}catch(t){return Promise.reject(t)}})()}isNCConnection(e){var r=this;return(0,d.Z)(function*(){const t={};return t.result=r._connectionDict.has(`RO_${e})`),Promise.resolve(t)})()}retrieveNCConnection(e){var r=this;return(0,d.Z)(function*(){if(r._connectionDict.has(e)){const n=r._connectionDict.get(`RO_${e})`);return typeof n<"u"?Promise.resolve(n):Promise.reject(`Connection ${e} is undefined`)}return Promise.reject(`Connection ${e} does not exist`)})()}isNCDatabase(e){var r=this;return(0,d.Z)(function*(){try{const t=yield r.sqlite.isNCDatabase({databasePath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}})()}retrieveAllConnections(){var e=this;return(0,d.Z)(function*(){return e._connectionDict})()}closeAllConnections(){var e=this;return(0,d.Z)(function*(){const r=new Map;try{for(const t of e._connectionDict.keys()){const n=t.substring(3),o="RO_"===t.substring(0,3);yield e.sqlite.closeConnection({database:n,readonly:o}),r.set(t,null)}for(const t of r.keys())e._connectionDict.delete(t);return Promise.resolve()}catch(t){return Promise.reject(t)}})()}checkConnectionsConsistency(){var e=this;return(0,d.Z)(function*(){try{const r=[...e._connectionDict.keys()],t=[],n=[];for(const l of r)t.push(l.substring(0,2)),n.push(l.substring(3));const o=yield e.sqlite.checkConnectionsConsistency({dbNames:n,openModes:t});return o.result||(e._connectionDict=new Map),Promise.resolve(o)}catch(r){return e._connectionDict=new Map,Promise.reject(r)}})()}importFromJson(e){var r=this;return(0,d.Z)(function*(){try{const t=yield r.sqlite.importFromJson({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}})()}isJsonValid(e){var r=this;return(0,d.Z)(function*(){try{const t=yield r.sqlite.isJsonValid({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}})()}copyFromAssets(e){var r=this;return(0,d.Z)(function*(){const t=null==e||e;try{return yield r.sqlite.copyFromAssets({overwrite:t}),Promise.resolve()}catch(n){return Promise.reject(n)}})()}getFromHTTPRequest(e,r){var t=this;return(0,d.Z)(function*(){const n=null==r||r;try{return yield t.sqlite.getFromHTTPRequest({url:e,overwrite:n}),Promise.resolve()}catch(o){return Promise.reject(o)}})()}isDatabaseEncrypted(e){var r=this;return(0,d.Z)(function*(){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=yield r.sqlite.isDatabaseEncrypted({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}})()}isInConfigEncryption(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.isInConfigEncryption();return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}isInConfigBiometricAuth(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.isInConfigBiometricAuth();return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}isDatabase(e){var r=this;return(0,d.Z)(function*(){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=yield r.sqlite.isDatabase({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}})()}getDatabaseList(){var e=this;return(0,d.Z)(function*(){try{const t=(yield e.sqlite.getDatabaseList()).values;return t.sort(),Promise.resolve({values:t})}catch(r){return Promise.reject(r)}})()}getMigratableDbList(e){var r=this;return(0,d.Z)(function*(){const t=e||"default";try{const n=yield r.sqlite.getMigratableDbList({folderPath:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}addSQLiteSuffix(e,r){var t=this;return(0,d.Z)(function*(){const n=e||"default",o=r||[];try{const l=yield t.sqlite.addSQLiteSuffix({folderPath:n,dbNameList:o});return Promise.resolve(l)}catch(l){return Promise.reject(l)}})()}deleteOldDatabases(e,r){var t=this;return(0,d.Z)(function*(){const n=e||"default",o=r||[];try{const l=yield t.sqlite.deleteOldDatabases({folderPath:n,dbNameList:o});return Promise.resolve(l)}catch(l){return Promise.reject(l)}})()}moveDatabasesAndAddSuffix(e,r){var t=this;return(0,d.Z)(function*(){return t.sqlite.moveDatabasesAndAddSuffix({folderPath:e||"default",dbNameList:r||[]})})()}}class Y{constructor(e,r,t){this.dbName=e,this.readonly=r,this.sqlite=t}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}open(){var e=this;return(0,d.Z)(function*(){try{return yield e.sqlite.open({database:e.dbName,readonly:e.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}})()}close(){var e=this;return(0,d.Z)(function*(){try{return yield e.sqlite.close({database:e.dbName,readonly:e.readonly}),Promise.resolve()}catch(r){return Promise.reject(r)}})()}beginTransaction(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.beginTransaction({database:e.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}commitTransaction(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.commitTransaction({database:e.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}rollbackTransaction(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.rollbackTransaction({database:e.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}isTransactionActive(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.isTransactionActive({database:e.dbName});return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}loadExtension(e){var r=this;return(0,d.Z)(function*(){try{return yield r.sqlite.loadExtension({database:r.dbName,path:e,readonly:r.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}})()}enableLoadExtension(e){var r=this;return(0,d.Z)(function*(){try{return yield r.sqlite.enableLoadExtension({database:r.dbName,toggle:e,readonly:r.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}})()}getUrl(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.getUrl({database:e.dbName,readonly:e.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}getVersion(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.getVersion({database:e.dbName,readonly:e.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}getTableList(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.getTableList({database:e.dbName,readonly:e.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}execute(e,r=!0,t=!0){var n=this;return(0,d.Z)(function*(){try{if(n.readonly)return Promise.reject("not allowed in read-only mode");{const o=yield n.sqlite.execute({database:n.dbName,statements:e,transaction:r,readonly:!1,isSQL92:t});return Promise.resolve(o)}}catch(o){return Promise.reject(o)}})()}query(e,r,t=!0){var n=this;return(0,d.Z)(function*(){let o;try{return o=r&&r.length>0?yield n.sqlite.query({database:n.dbName,statement:e,values:r,readonly:n.readonly,isSql92:!0}):yield n.sqlite.query({database:n.dbName,statement:e,values:[],readonly:n.readonly,isSQL92:t}),o=yield n.reorderRows(o),Promise.resolve(o)}catch(l){return Promise.reject(l)}})()}run(e,r,t=!0,n="no",o=!0){var l=this;return(0,d.Z)(function*(){let c;try{return l.readonly?Promise.reject("not allowed in read-only mode"):(c=r&&r.length>0?yield l.sqlite.run({database:l.dbName,statement:e,values:r,transaction:t,readonly:!1,returnMode:n,isSQL92:!0}):yield l.sqlite.run({database:l.dbName,statement:e,values:[],transaction:t,readonly:!1,returnMode:n,isSQL92:o}),c.changes=yield l.reorderRows(c.changes),Promise.resolve(c))}catch(m){return Promise.reject(m)}})()}executeSet(e,r=!0,t="no",n=!0){var o=this;return(0,d.Z)(function*(){let l;try{return o.readonly?Promise.reject("not allowed in read-only mode"):(l=yield o.sqlite.executeSet({database:o.dbName,set:e,transaction:r,readonly:!1,returnMode:t,isSQL92:n}),l.changes=yield o.reorderRows(l.changes),Promise.resolve(l))}catch(c){return Promise.reject(c)}})()}isExists(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.isDBExists({database:e.dbName,readonly:e.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}isTable(e){var r=this;return(0,d.Z)(function*(){try{const t=yield r.sqlite.isTableExists({database:r.dbName,table:e,readonly:r.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}})()}isDBOpen(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.isDBOpen({database:e.dbName,readonly:e.readonly});return Promise.resolve(r)}catch(r){return Promise.reject(r)}})()}delete(){var e=this;return(0,d.Z)(function*(){try{return e.readonly?Promise.reject("not allowed in read-only mode"):(yield e.sqlite.deleteDatabase({database:e.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}})()}createSyncTable(){var e=this;return(0,d.Z)(function*(){try{if(e.readonly)return Promise.reject("not allowed in read-only mode");{const r=yield e.sqlite.createSyncTable({database:e.dbName,readonly:!1});return Promise.resolve(r)}}catch(r){return Promise.reject(r)}})()}setSyncDate(e){var r=this;return(0,d.Z)(function*(){try{return r.readonly?Promise.reject("not allowed in read-only mode"):(yield r.sqlite.setSyncDate({database:r.dbName,syncdate:e,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}})()}getSyncDate(){var e=this;return(0,d.Z)(function*(){try{const r=yield e.sqlite.getSyncDate({database:e.dbName,readonly:e.readonly});let t="";return r.syncDate>0&&(t=new Date(1e3*r.syncDate).toISOString()),Promise.resolve(t)}catch(r){return Promise.reject(r)}})()}exportToJson(e,r=!1){var t=this;return(0,d.Z)(function*(){try{const n=yield t.sqlite.exportToJson({database:t.dbName,jsonexportmode:e,readonly:t.readonly,encrypted:r});return Promise.resolve(n)}catch(n){return Promise.reject(n)}})()}deleteExportedRows(){var e=this;return(0,d.Z)(function*(){try{return e.readonly?Promise.reject("not allowed in read-only mode"):(yield e.sqlite.deleteExportedRows({database:e.dbName,readonly:!1}),Promise.resolve())}catch(r){return Promise.reject(r)}})()}executeTransaction(e,r=!0){var t=this;return(0,d.Z)(function*(){let n=0,o=!1;if(t.readonly)return Promise.reject("not allowed in read-only mode");try{if(yield t.sqlite.beginTransaction({database:t.dbName}),o=yield t.sqlite.isTransactionActive({database:t.dbName}),!o)return Promise.reject("After Begin Transaction, no transaction active")}catch(l){return Promise.reject(l)}try{for(const c of e)if(c.values&&c.values.length>0){const m=c.statement.toUpperCase().includes("RETURNING")?"all":"no",f=yield t.sqlite.run({database:t.dbName,statement:c.statement,values:c.values,transaction:!1,readonly:!1,returnMode:m,isSQL92:r});if(f.changes.changes<=0)throw new Error("Error in transaction method run ");n+=f.changes.changes}else{const m=yield t.sqlite.execute({database:t.dbName,statements:c.statement,transaction:!1,readonly:!1});if(o=yield t.sqlite.isTransactionActive({database:t.dbName}),m.changes.changes<0)throw new Error("Error in transaction method execute ");n+=m.changes.changes}return o=yield t.sqlite.isTransactionActive({database:t.dbName}),o&&(n+=(yield t.sqlite.commitTransaction({database:t.dbName})).changes.changes),Promise.resolve({changes:{changes:n}})}catch(l){const c=l.message?l.message:l;return o=yield t.sqlite.isTransactionActive({database:t.dbName}),o&&(yield t.sqlite.rollbackTransaction({database:t.dbName})),Promise.reject(c)}})()}reorderRows(e){return(0,d.Z)(function*(){const r=e;if(null!=e&&e.values&&"object"==typeof e.values[0]&&Object.keys(e.values[0]).includes("ios_columns")){const t=e.values[0].ios_columns,n=[];for(let o=1;o<e.values.length;o++){const l=e.values[o],c={};for(const m of t)c[m]=l[m];n.push(c)}r.values=n}return Promise.resolve(r)})()}}const Z=(0,Q.fo)("CapacitorSQLite",{web:()=>v.e(6524).then(v.bind(v,6524)).then(s=>new s.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});var D=v(7346);let H=(()=>{var s;class e{constructor(t){this.platform=t;const n=localStorage.getItem("users");this.sqlite=new B(Z),this.isMobile=this.platform.is("mobile"),this.allUsers=n?JSON.parse(n):[],this.isMobile&&this.init()}init(){var t=this;return(0,d.Z)(function*(){var n,o,l;t.db=yield null===(n=t.sqlite)||void 0===n?void 0:n.createConnection("default",!1,"no-encryption",1,!1),yield null===(o=t.db)||void 0===o?void 0:o.open(),yield null===(l=t.db)||void 0===l?void 0:l.execute("\n      CREATE TABLE IF NOT EXISTS user(\n        id INTEGER PRIMARY KEY AUTOINCREMENT,\n        name TEXT NOT NULL,\n        password TEXT NOT NULL,\n        email TEXT NOT NULL UNIQUE,\n        phone TEXT UNIQUE\n      );")})()}findUser(t,n){return new k.y(o=>{setTimeout(()=>{if(this.isMobile)this.db.query(`\n            SELECT * FROM user \n            WHERE (user.email = '${t}' OR user.phone = '${t}') \n            AND user.password = '${n}';\n          `).then(m=>{m.values?o.next(m.values[0]):o.error(new Error("Invalid credential or password.")),o.complete()});else{var l;const c=null===(l=this.allUsers)||void 0===l?void 0:l.find(m=>(m.email===t||m.phone===t)&&m.password===n);c?o.next(c):o.error(new Error("Invalid credential or password.")),o.complete()}},500)})}createUser(t,n,o,l){const c={name:t,phone:n,email:o,password:l};return new k.y(m=>{setTimeout(()=>{var f,_;if(this.isMobile)null===(_=this.db)||void 0===_||_.execute(`\n            INSERT INTO user(name,password,email,phone) VALUES \n            ('${c.name}', '${c.password}', '${c.email}', '${c.phone}');`).then(R=>{var F;const G=null===(F=R.changes)||void 0===F?void 0:F.lastId;G?m.next(G):m.error(new Error("User already exists")),m.complete()});else if(null!==(f=this.allUsers)&&void 0!==f&&f.find(E=>E.phone===c.phone||E.email===c.email))m.error(new Error("User already exists"));else{var N;null===(N=this.allUsers)||void 0===N||N.push(c),localStorage.setItem("users",JSON.stringify(this.allUsers)),m.next(this.allUsers.length)}m.complete()},500)})}login(t,n){return new k.y(o=>{this.findUser(t,n).pipe((0,U.K)(l=>(o.error(l),o.complete(),(0,O.of)(l)))).subscribe(l=>{this.activeUser=l,o.next(l),o.complete()})})}}return(s=e).\u0275fac=function(t){return new(t||s)(a.LFG(D.t4))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),e})(),ie=(()=>{var s;class e{constructor(t,n){this.userService=t,this.router=n}validate(t){var n,o;const l=null===(n=t.get("credential"))||void 0===n?void 0:n.value,c=null===(o=t.get("password"))||void 0===o?void 0:o.value;return new k.y(m=>{this.userService.login(l,c).pipe((0,U.K)(f=>(0,O.of)(f))).subscribe(f=>{f?m.next({dbError:f.message}):(m.next(null),this.router.navigate(["/home"])),m.complete()})})}}return(s=e).\u0275fac=function(t){return new(t||s)(a.LFG(H),a.LFG(L.F0))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),e})(),I=(()=>{var s;class e{validate(t){const n=t.get("password"),o=t.get("confirm password"),l={passwordMismatch:"Passwords do not match."};return null!=n&&n.pristine||null==n||!n.dirty||null!=o&&o.pristine||null==o||!o.dirty||!n.value||!o.value||n.value===o.value?(null!=o&&o.errors&&(delete o.errors.passwordMismatch,0===Object.keys(o.errors).length&&o.setErrors(null)),null!=n&&n.errors&&(delete n.errors.passwordMismatch,0===Object.keys(n.errors).length&&n.setErrors(null)),null):(o.setErrors({...o.errors,...l}),n.setErrors({...n.errors,...l}),l)}}return(s=e).\u0275fac=function(t){return new(t||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),e})(),ae=(()=>{var s;class e{validate(t){var n;let o="";return/[a-z]+/.test(t.value)||(o+="one lower case letter, "),/[A-Z]+/.test(t.value)||(o+="one upper case letter, "),/\d+/.test(t.value)||(o+="one number, "),/[^"!@#$%\xa8&*()'`~+=\-_[\]]+/.test(t.value)||(o+="one special character, "),(null===(n=t.value)||void 0===n?void 0:n.length)<8&&(o+=`at least ${8-t.value.length} more characters.`),o?(o=o.trim(),o=o.substring(0,o.length-1)+o.substring(o.length-1,o.length).replace(",","."),{passwordError:"Password is missing "+o}):null}}return(s=e).\u0275fac=function(t){return new(t||s)},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),e})(),W=(()=>{var s;class e{constructor(t,n){this.userService=t,this.router=n}validate(t){var n,o,l,c;const m=null===(n=t.get("email"))||void 0===n?void 0:n.value,f=null===(o=t.get("password"))||void 0===o?void 0:o.value,_=null===(l=t.get("phone"))||void 0===l?void 0:l.value,N=null===(c=t.get("name"))||void 0===c?void 0:c.value;return new k.y(E=>{this.userService.createUser(N,_,m,f).pipe((0,U.K)(R=>(0,O.of)({dbError:R}))).subscribe(()=>{E.next(null),E.complete(),this.router.navigate(["/","login"])})})}}return(s=e).\u0275fac=function(t){return new(t||s)(a.LFG(H),a.LFG(L.F0))},s.\u0275prov=a.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),e})(),V=(()=>{var s;class e{}return(s=e).\u0275fac=function(t){return new(t||s)},s.\u0275cmp=a.Xpm({type:s,selectors:[["spinner"]],decls:2,vars:0,template:function(t,n){1&t&&a._UZ(0,"ion-backdrop")(1,"ion-spinner")},dependencies:[w.ql,w.PQ],styles:["[_nghost-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;width:100%;height:100%;z-index:10}"]}),e})();function K(s,e){1&s&&(a.TgZ(0,"div",10)(1,"h4",11),a.SDv(2,12),a.qZA(),a.TgZ(3,"p",13),a.SDv(4,14),a.qZA()())}function le(s,e){if(1&s){const r=a.EpF();a.TgZ(0,"div",18),a.NdJ("click",function(){a.CHM(r);const n=a.oxw(2);return a.KtG(n.showPassword=!n.showPassword)}),a._UZ(1,"span",19)(2,"ion-icon",20),a.qZA()}if(2&s){const r=a.oxw(2);a.xp6(),a.ekj("visible",r.showPassword)}}function X(s,e){if(1&s&&(a.TgZ(0,"div",15)(1,"ion-input",16),a.ALo(2,"titlecase"),a.YNc(3,le,3,2,"div",17),a.qZA()()),2&s){const r=e.$implicit,t=a.oxw();a.xp6(),a.Q6J("placeholder",t.getPlaceholder(r.key))("label",a.lcZ(2,7,r.key))("type",t.getControlType(r.key))("errorText",t.getErrorText(r.value.errors))("formControlName",r.key)("clearOnEdit",!1),a.xp6(2),a.Q6J("ngIf",r.key.includes("password"))}}function ee(s,e){if(1&s&&(a.TgZ(0,"ion-text",21),a._uU(1),a.qZA()),2&s){const r=a.oxw();a.xp6(),a.Oqu(r.form.errors.dbError)}}function te(s,e){1&s&&a._UZ(0,"spinner")}const re=[{path:"",component:(()=>{var s;class e{constructor(t,n,o,l,c,m,f){this.builder=t,this.userValidator=n,this.samePasswordValidator=o,this.passwordValidator=l,this.newUserValidator=c,this.location=m,this.router=f,this.keepOrder=()=>0,this.isCreate=this.location.path().includes("create"),this.submited=!1,this.showPassword=!1,this.cardTitle=this.isCreate?"CADASTRO":"PORTAL",this.buttonText=this.isCreate?"Cadastrar":"Entrar",this.linkText=this.isCreate?"J\xE1 tem uma conta? Entre aqui!":"Ainda n\xE3o tem uma conta? Cadastre-se aqui!",this.loginControlsNames=["credencial","senha"],this.createControlsNames=["nome","email","telefone","senha","confirmar senha"],this.loginControls={},this.loginControls[this.loginControlsNames[0]]=["",{updateOn:"submit",validators:y.kI.required}],this.loginControls[this.loginControlsNames[1]]=["",{updateOn:"submit",validators:y.kI.required}],this.createControls={},this.createControls[this.createControlsNames[0]]=["",{updateOn:"submit",validators:y.kI.required}],this.createControls[this.createControlsNames[1]]=["",{updateOn:"submit",validators:[y.kI.required,y.kI.email]}],this.createControls[this.createControlsNames[2]]=["",{updateOn:"submit",validators:y.kI.pattern("^[\\+]?[(]?[0-9]{2,3}[)]?[-\\s\\.]?[0-9]{3,}[-\\s\\.]?[0-9]{4,}$")}],this.createControls[this.createControlsNames[3]]=["",{updateOn:"submit",validators:[y.kI.required,this.passwordValidator.validate.bind(this.passwordValidator)]}],this.createControls[this.createControlsNames[4]]=["",{updateOn:"submit",validators:y.kI.required}],this.form=this.loadForm(),this.router.events.subscribe(_=>{_ instanceof L.m2&&(this.isCreate=_.url.includes("create"),this.loadForm(),this.form.reset())})}loadForm(){return this.isCreate?this.builder.group(this.createControls,{updateOn:"submit",asyncValidators:this.newUserValidator.validate.bind(this.newUserValidator),validators:this.samePasswordValidator.validate}):this.builder.group(this.loginControls,{updateOn:"submit",asyncValidators:this.userValidator.validate.bind(this.userValidator)})}getErrorText(t){return t?t[Object.keys(t)[0]]:"no errors."}getControlType(t){return t.includes("password")?this.showPassword?"text":"password":t}getPlaceholder(t){switch(t){case"confirm password":return "Por favor, confirme sua senha.";case"credential":return "Por favor, insira seu email ou telefone.";default:return "Por favor, insira sua " + t + "."}}}return(s=e).\u0275fac=function(t){return new(t||s)(a.Y36(y.qu),a.Y36(ie),a.Y36(I),a.Y36(ae),a.Y36(W),a.Y36(h.Ye),a.Y36(L.F0))},s.\u0275cmp=a.Xpm({type:s,selectors:[["login"]],decls:17,vars:12,consts:()=>{let r,t;return r="Bem vindo!",t="Por favor, entre com sua conta.",[[1,"card-container",3,"formGroup"],[1,"login-card"],[1,"card-title"],[1,"card-content"],["class","welcome-container",4,"ngIf"],["class","input-wrapper",4,"ngFor","ngForOf"],["color","danger",4,"ngIf"],["type","submit",1,"login-button"],[3,"routerLink"],[4,"ngIf"],[1,"welcome-container"],[1,"welcome-title"],r,[1,"welcome-subtitle"],t,[1,"input-wrapper"],["labelPlacement","stacked","mode","ios",3,"placeholder","label","type","errorText","formControlName","clearOnEdit"],["class","show-password-button","slot","end",3,"click",4,"ngIf"],["slot","end",1,"show-password-button",3,"click"],[1,"slash"],["name","eye-outline"],["color","danger"]]},template:function(t,n){1&t&&(a.TgZ(0,"ion-content")(1,"form",0)(2,"ion-card",1)(3,"ion-card-header",2),a._uU(4),a.qZA(),a.TgZ(5,"ion-card-content",3),a.YNc(6,K,5,0,"div",4),a.TgZ(7,"div"),a.YNc(8,X,4,9,"div",5),a.ALo(9,"keyvalue"),a.YNc(10,ee,2,1,"ion-text",6),a.qZA(),a.TgZ(11,"div")(12,"ion-button",7),a._uU(13),a.qZA(),a.TgZ(14,"a",8),a._uU(15),a.qZA()()()()()(),a.YNc(16,te,1,0,"spinner",9)),2&t&&(a.xp6(),a.Q6J("formGroup",n.form),a.xp6(3),a.Oqu(n.cardTitle),a.xp6(2),a.Q6J("ngIf",!n.isCreate),a.xp6(2),a.Q6J("ngForOf",a.xi3(9,9,n.form.controls,n.keepOrder)),a.xp6(2),a.Q6J("ngIf",n.form.errors&&n.form.errors.dbError),a.xp6(3),a.Oqu(n.buttonText),a.xp6(),a.Q6J("routerLink",n.isCreate?"/login":"/user/create"),a.xp6(),a.Oqu(n.linkText),a.xp6(),a.Q6J("ngIf",n.form.pending))},dependencies:[h.sg,h.O5,y._Y,y.JJ,y.JL,w.YG,w.PM,w.FN,w.Zi,w.W2,w.gu,w.pK,w.yW,w.j9,w.Fo,L.rH,V,y.sg,y.u,h.rS,h.Nd],styles:["ion-content[_ngcontent-%COMP%]::part(scroll){display:flex;flex-direction:column;background-repeat:no-repeat;background-size:auto 100%;justify-content:space-between;padding:0 1rem}.card-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;flex:1 1 0}.login-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;padding:1.5rem;max-width:333px;gap:2.5vh}.login-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card-title[_ngcontent-%COMP%]{text-align:center;padding:0;font-size:var(--font-larger);font-weight:var(--font-bolder)}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;gap:1rem}.welcome-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.welcome-title[_ngcontent-%COMP%]{font-size:var(--font-large);font-weight:var(--font-bold)}.welcome-subtitle[_ngcontent-%COMP%]{font-weight:var(--font-bold);font-size:var(--font-body)}.input-container[_ngcontent-%COMP%]{gap:8px}.input-label[_ngcontent-%COMP%]{font-size:var(--font-small);font-weight:var(--font-bold)}.login-button[_ngcontent-%COMP%]::part(native){flex:1 1 0;text-transform:none}.invalid[_ngcontent-%COMP%]{border-bottom:1px solid var(--red);margin-bottom:10px}.error[_ngcontent-%COMP%]{background-color:var(--error-background);text-align:center;border-radius:6px;font-size:var(--font-body);padding:2px;margin-bottom:10px}.login-card[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.ion-valid[_ngcontent-%COMP%]{--highlight-color: var(--ion-color-primary) }ion-icon[_ngcontent-%COMP%]{font-size:24px}.show-password-button[_ngcontent-%COMP%]{position:relative;rotate:45deg;cursor:pointer}.show-password-button[_ngcontent-%COMP%]   .slash[_ngcontent-%COMP%]{position:absolute;top:40%;left:-15%;height:4px;border-radius:2px;width:0;transition:width .15s;border:1px solid var(--ion-background-color);z-index:1;background-color:var(--ion-card-color, var(--ion-item-color, var(--ion-color-step-550, #737373)))}.show-password-button[_ngcontent-%COMP%]   .slash.visible[_ngcontent-%COMP%]{width:130%}.show-password-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{rotate:-45deg}"]}),e})()}];let de=(()=>{var s;class e{}return(s=e).\u0275fac=function(t){return new(t||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[L.Bz.forChild(re),L.Bz]}),e})();var u=v(822);let i=(()=>{var s;class e{}return(s=e).\u0275fac=function(t){return new(t||s)},s.\u0275mod=a.oAB({type:s}),s.\u0275inj=a.cJS({imports:[h.ez,y.u5,w.Pc,de,u.K,y.UX]}),e})()}}]);